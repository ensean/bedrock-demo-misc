# Strands Python REPL åˆ†ææ¼”ç¤º

ä½¿ç”¨ Strands Agent SDK åˆ†æ EC2 æ€§èƒ½æ•°æ®çš„æ¼”ç¤ºé¡¹ç›®ã€‚

## åŠŸèƒ½è¯´æ˜

æœ¬é¡¹ç›®æ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨ Strands Agent SDK è®© AI è‡ªåŠ¨åˆ†æ EC2 æœåŠ¡å™¨æ€§èƒ½ç›‘æ§æ•°æ®ï¼Œæ”¯æŒä¸¤ç§åˆ†ææ¨¡å¼ï¼š

- **REPL æ¨¡å¼**ï¼šAgent ä½¿ç”¨ Python REPL å·¥å…·åŠ¨æ€ç”Ÿæˆå¹¶æ‰§è¡Œä»£ç æ¥åˆ†ææ•°æ®
- **File æ¨¡å¼**ï¼šç›´æ¥å°† CSV æ–‡ä»¶å†…å®¹ä½œä¸ºæ–‡æ¡£ä¼ é€’ç»™ Agent è¿›è¡Œåˆ†æ

## å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

## ä½¿ç”¨æ–¹æ³•

### é»˜è®¤è¿è¡Œï¼ˆREPL æ¨¡å¼ï¼‰

```bash
python demo_strands_ana_file.py
```

### æŒ‡å®šè¿è¡Œæ¨¡å¼

```bash
# ä½¿ç”¨ REPL æ¨¡å¼ï¼ˆAgent åŠ¨æ€æ‰§è¡Œ Python ä»£ç ï¼‰
python demo_strands_ana_file.py --mode repl # è®¡ç®—ç»“æœå‡†ç¡®ï¼Œtoken æ¶ˆè€—ä½

#### **ã€é—®é¢˜2ã€‘å¹³å‡ CPU ä½¿ç”¨ç‡ Top 3 çš„æœºå™¨**

ğŸ† **ç¬¬1åï¼ši-4e5f6g7h8i9j0k1l2**
- å¹³å‡CPUä½¿ç”¨ç‡ï¼š**59.46%**
- CPUä½¿ç”¨ç‡èŒƒå›´ï¼š20.0% - 94.6%
- è¶…è¿‡75%çš„æ—¶é—´å æ¯”ï¼š30.2%

ğŸ¥ˆ **ç¬¬2åï¼ši-2c3d4e5f6g7h8i9j0**
- å¹³å‡CPUä½¿ç”¨ç‡ï¼š**59.45%**
- CPUä½¿ç”¨ç‡èŒƒå›´ï¼š21.3% - 94.7%
- è¶…è¿‡75%çš„æ—¶é—´å æ¯”ï¼š29.0%

ğŸ¥‰ **ç¬¬3åï¼ši-3d4e5f6g7h8i9j0k1**
- å¹³å‡CPUä½¿ç”¨ç‡ï¼š**58.21%**
- CPUä½¿ç”¨ç‡èŒƒå›´ï¼š20.1% - 94.6%
- è¶…è¿‡75%çš„æ—¶é—´å æ¯”ï¼š31.0%

Token ä½¿ç”¨ç»Ÿè®¡:{
  "input_tokens": 78929,
  "output_tokens": 6113,
  "cache_creation_tokens": 0,
  "cache_read_tokens": 0,
  "total_tokens": 85042
}


# ä½¿ç”¨ File æ¨¡å¼ï¼ˆç›´æ¥ä¼ é€’æ–‡ä»¶å†…å®¹ï¼‰
python demo_strands_ana_file.py --mode file # è®¡ç®—ç»“æœä¸å‡†ç¡®ï¼Œtoken æ¶ˆè€—é«˜

 æ’å | å®ä¾‹ID | å¹³å‡CPUä½¿ç”¨ç‡ | çŠ¶æ€è¯„ä¼° |
|------|--------|--------------|----------|
| ğŸ¥‡ **ç¬¬1å** | **i-4e5f6g7h8i9j0k1l2** | **61.27%** | âš ï¸ ä¸­ç­‰è´Ÿè½½ |
| ğŸ¥ˆ **ç¬¬2å** | **i-2c3d4e5f6g7h8i9j0** | **60.45%** | âš ï¸ ä¸­ç­‰è´Ÿè½½ |
| ğŸ¥‰ **ç¬¬3å** | **i-0a1b2c3d4e5f6g7h8** | **59.88%** | âš ï¸ ä¸­ç­‰è´Ÿè½½ |

Token ä½¿ç”¨ç»Ÿè®¡:{
    "input_tokens": 617568,
    "output_tokens": 5344,
    "cache_creation_tokens": 0,
    "cache_read_tokens": 0,
    "total_tokens": 622912
}

```

### æŸ¥çœ‹å¸®åŠ©

```bash
python demo_strands_ana_file.py --help
```

## å‚æ•°è¯´æ˜

- `--mode`: é€‰æ‹©åˆ†ææ¨¡å¼
  - `repl` (é»˜è®¤): ä½¿ç”¨ Python REPL å·¥å…·ï¼ŒAgent å¯ä»¥åŠ¨æ€ç”Ÿæˆå’Œæ‰§è¡Œä»£ç 
  - `file`: ç›´æ¥å°† CSV æ–‡ä»¶ä½œä¸ºæ–‡æ¡£ä¼ é€’ç»™ Agent

## æ•°æ®æ–‡ä»¶

ç¡®ä¿ `data/ec2_metrics.csv` æ–‡ä»¶å­˜åœ¨ï¼Œè¯¥æ–‡ä»¶åŒ…å« EC2 æœåŠ¡å™¨çš„æ€§èƒ½ç›‘æ§æ•°æ®ã€‚

## å·¥ä½œæµç¨‹

1. ç”¨æˆ·æä¾›åˆ†æéœ€æ±‚ï¼ˆä¾‹å¦‚ï¼šæ‰¾å‡º CPU ä½¿ç”¨ç‡å¤§äº 75% çš„æœºå™¨ï¼‰
2. Strands Agent æ¥æ”¶è¯·æ±‚
3. Agent è‡ªåŠ¨é€‰æ‹©åˆé€‚çš„å·¥å…·ï¼ˆpython_replã€file_read ç­‰ï¼‰
4. Agent ç”Ÿæˆå¹¶æ‰§è¡Œåˆ†æä»£ç 
5. è¿”å›åˆ†æç»“æœå’Œ Token ä½¿ç”¨ç»Ÿè®¡

## ç¯å¢ƒå˜é‡

- `BYPASS_TOOL_CONSENT`: è®¾ç½®ä¸º `true` ä»¥è·³è¿‡å·¥å…·ä½¿ç”¨ç¡®è®¤

## ä¾èµ–é¡¹

- strands-agents: Strands Agent SDK
- strands-agents-tools: Strands å·¥å…·é›†
- pandas: æ•°æ®åˆ†æåº“
- python-dotenv: ç¯å¢ƒå˜é‡ç®¡ç†

## æ³¨æ„äº‹é¡¹

- éœ€è¦é…ç½® AWS Bedrock è®¿é—®æƒé™
- ä½¿ç”¨çš„æ¨¡å‹ï¼š`global.anthropic.claude-sonnet-4-5-20250929-v1:0`
- ç¡®ä¿æœ‰è¶³å¤Ÿçš„ Bedrock API é…é¢
